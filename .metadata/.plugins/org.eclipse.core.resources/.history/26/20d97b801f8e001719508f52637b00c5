package universidad;

import java.util.Arrays;
import java.util.concurrent.ThreadLocalRandom;

public class Alumno extends Persona {
	
	private String [][] asignaturasYNotas = new String [3][2];	
	private boolean estaDisponible;
	
	private String [] asignaturasDisponibles = {super.asignaturas(0),super.asignaturas(1),super.asignaturas(2)};
	private Integer nota = 0;
	private String [] imprimeNotas = new String [3];
	
	public Alumno(){}

	public Alumno(String nombre, int edad, String sexo) {
		super(nombre, edad, sexo);
		this.estaDisponible = disponible();	
		this.asignaturasYNotas = notasDelAlumno(asignaturasDisponibles, nota);			
	}

	public boolean disponible(){
		//Los estudiantes tendrán un 50% de hacer novillos
		int indiceDeBaja = ThreadLocalRandom.current().nextInt(0, 100);
		boolean estaDisponible = super.disponible();	
		if (indiceDeBaja <=50){estaDisponible = false;}
		return estaDisponible;}
	
	protected String[][] notasDelAlumno (String[] asignaturasDisponibles, Integer nota) {	
		for (int i = 0; i < 3; i++) {
			asignaturasYNotas[i][0]= asignaturasDisponibles[0]; 
			asignaturasYNotas[i][1]= nota.toString();
			imprimeNotas [i]= Arrays.toString(asignaturasYNotas[i]);
			}		
		return asignaturasYNotas;
	}
	
	public boolean isEstaDisponible(){return estaDisponible;}		
	public String[][] getAsignaturasYNotas() {return asignaturasYNotas;}
	public void setAsignaturasYNotas(String[][] asignaturasYNotas){this.asignaturasYNotas = asignaturasYNotas;}

	@Override
	public String toString() {
		return "Alumno [nombre=" + nombre + ", edad=" + edad+ ", sexo=" + sexo + 
				", estaDisponible= " + estaDisponible + ", notas" +imprimeNotas[0]+imprimeNotas[1]+imprimeNotas[2] + " ]";
	}
}