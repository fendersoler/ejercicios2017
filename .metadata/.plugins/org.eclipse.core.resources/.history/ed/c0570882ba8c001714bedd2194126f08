package universidad;

import java.util.concurrent.ThreadLocalRandom;

public class Aula {	
	
	private int idAula;
	private int numeroMaxDeEstudiates;
	private String asignaturaDelAula;
	
	public Aula(){
		this.idAula = ThreadLocalRandom.current().nextInt(0, 80);
		this.numeroMaxDeEstudiates= ThreadLocalRandom.current().nextInt(30, 120);
		this.asignaturaDelAula = asignaturaDelAula ();
	}
	
	private String asignaturaDelAula () {			
		String [] asignaturasDisponibles = {"Matemáticas","Filosofia","Física"};
		int indiceDeMaterias = ThreadLocalRandom.current().nextInt(0, 3);		
		String asignaturaDelAula= asignaturasDisponibles[indiceDeMaterias];
		return asignaturaDelAula;
	}
	
	Profesor [] profesores = {new Profesor("Pepe", 50, "hombre"),new Profesor("Paco", 48, "hombre"),
		new Profesor("Maria", 38, "mujer"),new Profesor("Teresa", 45, "mujer"),new Profesor("Alfonso", 64, "hombre"),
		new Profesor("Juana", 43, "mujer")};
	
	
	
	Alumno [] alumnos = {new Alumno("Juan", 19, "hombre"),new Alumno("Pilar", 23, "mujer"),
			new Alumno("Laura", 18, "mujer"),new Alumno("David", 20, "hombre"),new Alumno("Diana", 21, "mujer"),
			new Alumno("Carlos", 22, "hombre")};

	public boolean sePuedeDarClase(){
		System.out.println("Profesores");
		for (int i = 0; i < profesores.length; i++) {
			System.out.println(profesores[i]);
		}
		System.out.println("");
		System.out.println("Alumnos");
		for (int i = 0; i < alumnos.length; i++) {
			System.out.println(alumnos[i]);
		}
				
		boolean aulaYProfe;			
		int i=0;
		do {
			if (asignaturaDelAula.equals(profesores[i].getMateria()) && profesores[i].isEstaDisponible()==true){
				aulaYProfe = true;
				System.out.println("Se puede dar clase con el profesor/a " + profesores[i].nombre);
				i=profesores.length;				
			}else{
				aulaYProfe = false;
				i++;					
			}			
		} while (i<profesores.length);
		
		if (aulaYProfe == false){System.out.println("No se puede dar clase ya que no hay profesor disponible");}
		
		boolean aulaYAlumnos;
		int j=0;
		do {		
			if (alumnos[j].isEstaDisponible() ==true && (numeroMaxDeEstudiates)/2 >= alumnos.length){
				aulaYAlumnos = true;
				i=alumnos.length;
				System.out.println("Se puede dar clase con los alumnos");
			}else{
				aulaYAlumnos = false;
				j++;				
			}			
		} while (i<alumnos.length);	
		
		if (aulaYProfe == true && aulaYAlumnos == true) {return true;} 
		else {return false;}				
	}
	
	public int getIdAula(){return idAula;}
	public int getNumeroMaxDeEstudiates(){return numeroMaxDeEstudiates;}
	public String getAsignaturaDelAula(){return asignaturaDelAula;}

	@Override
	public String toString() {
		return "Aula [idAula=" + idAula + ", numeroMaxDeEstudiates=" + numeroMaxDeEstudiates + ", asignaturaDelAula="
				+ asignaturaDelAula + "]";
	}
}